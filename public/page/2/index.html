<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"smallgress.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="记录学习js的历程">
<meta property="og:type" content="website">
<meta property="og:title" content="一片野草">
<meta property="og:url" content="http://smallgress.github.io/page/2/index.html">
<meta property="og:site_name" content="一片野草">
<meta property="og:description" content="记录学习js的历程">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="SmallGress">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://smallgress.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>一片野草</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">一片野草</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录自己的学习路</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2017/04/17/git-commit%E4%B9%8BMessage%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/17/git-commit%E4%B9%8BMessage%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">git-commit之Message指南</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2017-04-17 00:24:41 / 修改时间：00:27:04" itemprop="dateCreated datePublished" datetime="2017-04-17T00:24:41+08:00">2017-04-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于commit的message可以随便写，所以利用commitizen 规范化message内容。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g commitizen</span><br><span class="line"></span><br><span class="line">commitizen init cz-conventional-changelog --save --save-exact</span><br></pre></td></tr></table></figure>

<h3 id="Message的格式"><a href="#Message的格式" class="headerlink" title="Message的格式"></a>Message的格式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Header</span><br><span class="line">&lt;type(&lt;scope): &lt;subject</span><br><span class="line">// body</span><br><span class="line">&lt;body</span><br><span class="line">// footer</span><br><span class="line">&lt;footer</span><br></pre></td></tr></table></figure>

<p>1、 Type类型</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">feat: 新功能</span><br><span class="line">fix: 修补bug</span><br><span class="line">docs: 文档</span><br><span class="line">style: 格式 (不影响代码运行)</span><br><span class="line">refactor: 重构</span><br><span class="line">test: 增加测试</span><br><span class="line">chore: 构建过程或者辅助工具变动</span><br><span class="line">revert: 撤销之前的commit</span><br></pre></td></tr></table></figure>

<p>2、 Scope</p>
<p> 用于说明本次commit所影响的范围（ng中可以是component、module、filter等）</p>
<p>3、 Subject</p>
<p> 一个以动词开头的一句简短的话，用以描述本次Commit的内容</p>
<p>4、 Body</p>
<p> 本次Commit的具体描述</p>
<p>5、 Footer </p>
<p> 有两种情况：</p>
<p>5.1、不兼容变动</p>
<p> 如果当前代码与上一个版本不兼容，则 Footer 部分以BREAKING CHANGE开头，后面是对变动的描述、以及变动理由和迁移方法。</p>
<p>5.2、关闭Issue</p>
<p> 本次commit针对某个issue。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/12/16/2016%E4%B8%8A%E6%B5%B7GDD%E5%8F%82%E5%90%8E%E6%84%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/16/2016%E4%B8%8A%E6%B5%B7GDD%E5%8F%82%E5%90%8E%E6%84%9F/" class="post-title-link" itemprop="url">2016上海GDD参后感</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-12-16 21:20:25 / 修改时间：22:48:22" itemprop="dateCreated datePublished" datetime="2016-12-16T21:20:25+08:00">2016-12-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>12月14日，谷歌在上海开展了中国第二次的GDD，于是我特别兴奋的从福州跑到了上海参加这个次大会。</p>
<p>大会8点就开始，我掐准了时间8点进了场，结果还是整整听了1小时的电音，才正式开始GDD的主要内容。</p>
<p>中国区的负责人出来进行主题演讲balabala的介绍很多谷歌在中国的情况，和帮中国开发者走向世界等等之类的内容，可是我们关心的是谷歌什么时候回归中国呀？？？</p>
<p>主题演讲结束后，我们就出来看了一些谷歌在做的项目，ng、chrome、vr、ai等等。然后就前往分会场。</p>
<p>这次大会分成了7个会场，而我参加了angular和Mobile Web的会场，但是可能因为这次的主题不是angular，所以感觉这次ng的演讲没什么内容了，感觉只是给ng的开发者打了一剂强心针，告诉开发者ng在中国还是有前景的。所以，他们这次只是简单的给我展示下ng2的开发，演示的妹子设置n多的快捷键，所以整演示只让我看到了无数的快捷方式。</p>
<p>上午的内容就这么结束了。</p>
<p>由于自己是ng的开发者，所以下午还是兴致满满的跑到ng的会场里面，第一场是大漠来讲，讲了一堆跟技术无关的内容，然后就结束了。事后一想感觉丫的被骗了……</p>
<p>然后ng团队的人和微软的人又上来唱一段双环，介绍了下ng和ts优势，然后ng的内容就没了。</p>
<p>于是一脸懵逼的我跑到Moblie Web去看PWA的演示，才看到了一点，稍微正常的开发者大会。我去的那场主要说的PWA与通知推送机制，内容里面讲到安装推送的时机，应该是我们通过判断用户cache并不存在在我们后端的时候才进行推送，每个推送成功的用户，可以在本地cache一份key下来，我们可以通过这份key来判断程序的是否有效等等内容。当然他还演示了，我们应该编辑PWA的manifest.json文件。</p>
<p>之后由于我第二天需要上班，于是填了一下问卷，然后领一个android的毛娃娃就走了。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h3><p>感觉这次谷歌大会的主要尽力还是集中在PWD和android上面，可能一方面是考虑到ng在中国的影响力已经很大所以觉得没啥必要再宣传。当然也可能是谷歌自己都不看好ng2，毕竟ts+rx这种组合的门槛还是很高的。对于web开发者来说基本都要重新学习。希望等ng3／ng4出来的时候，能在上面看到一场ng深入的内容吧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/09/18/ng2%EF%BC%8D%EF%BC%8D%E7%94%9F%E5%91%BD%E9%92%A9%E5%AD%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/18/ng2%EF%BC%8D%EF%BC%8D%E7%94%9F%E5%91%BD%E9%92%A9%E5%AD%90/" class="post-title-link" itemprop="url">ng2－－生命钩子</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-09-18 22:11:16" itemprop="dateCreated datePublished" datetime="2016-09-18T22:11:16+08:00">2016-09-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2016-09-23 21:37:04" itemprop="dateModified" datetime="2016-09-23T21:37:04+08:00">2016-09-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ng2是一个组件化的框架，那么组件化必然带有钩子函数，今天就来说说，ng2的生命钩子函数(Lifecycle Hooks)。</p>
<p>生命周期是什么？每个组件和指令都有生命周期，从创建、渲染、再销毁，这就完成了组件的一个生命周期。而生命周期钩子，就是让开发者可以介入这些生命周期的一个或者多个钩子函数。</p>
<p>通用的钩子函数:</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td>ngOnInit</td>
<td align="center">初始化组件或者指令</td>
</tr>
<tr>
<td>ngOnChanges</td>
<td align="center">当绑定的属性发生变化时</td>
</tr>
<tr>
<td>ngDoCheck</td>
<td align="center">检测组件所有的变化</td>
</tr>
<tr>
<td>ngOnDestroy</td>
<td align="center">组件被销毁时</td>
</tr>
</tbody></table>
<p>由于组件内部可以有子组件，所以组件拥有一些特殊的组件钩子函数：</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td>ngAfterContentInit</td>
<td align="center">把数据投入组件内部之后（比如ng-content投入之后）</td>
</tr>
<tr>
<td>ngAfterContentChecked</td>
<td align="center">当数据都必定完成之后</td>
</tr>
<tr>
<td>ngAfterViewInit</td>
<td align="center">创建组件的视图</td>
</tr>
<tr>
<td>ngAfterViewChecked</td>
<td align="center">检查完组件视图的绑定后调用</td>
</tr>
</tbody></table>
<p>下面我们来测试下，<a target="_blank" rel="noopener" href="http://plnkr.co/edit/xRUgMsplqudlgxv4DCSM?p=preview">项目代码</a>(一言不和就上代码)</p>
<p>组件钩子函数执行顺序及其次数;</p>
<p><img src="/css/images/liftcycle_1.png" alt="执行图">;</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th>顺序</th>
<th>次数</th>
</tr>
</thead>
<tbody><tr>
<td>OnInit</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>DoCheck</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>AfterContentInit</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>AfterContentChecked</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>OnChanges</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>AfterViewInit</td>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td>AfterViewChecked</td>
<td>6</td>
<td>2</td>
</tr>
</tbody></table>
<p>从上图我们可以这样子的结论，在组件创建的时候，所有的check钩子都执行了2次，其它的Init和OnChanges方法则只执行了一次。<br>这里要单独说明的时OnChanges和OnDestroy方法:</p>
<h4 id="OnChanges"><a href="#OnChanges" class="headerlink" title="OnChanges"></a>OnChanges</h4><blockquote>
<ul>
<li>OnChanges方法只有在父组件往子组件输入的值发生变化的时候才会触发，所以在组件初始化的时候触发了一次事件，当输入组件的值发生变化之后，OnChanges就开始调用。</li>
</ul>
</blockquote>
<h4 id="OnDestroy"><a href="#OnDestroy" class="headerlink" title="OnDestroy"></a>OnDestroy</h4><blockquote>
<ul>
<li>OnDestroy是一个组件销毁后才会执行的钩子函数，所以在页面上的组件消失就会触发。</li>
</ul>
</blockquote>
<p>还有一组比较混淆的方法就是AfterView和AfterContent，相对来讲业务组件中AfterView应该比AfterContent更加常用。<br>那么两个区别在那里呢？</p>
<h4 id="AfterView"><a href="#AfterView" class="headerlink" title="AfterView"></a>AfterView</h4><blockquote>
<ul>
<li>AfterView是在组件及其子组件创建完成之后就会触发的方法。</li>
</ul>
</blockquote>
<h4 id="AfterContent"><a href="#AfterContent" class="headerlink" title="AfterContent"></a>AfterContent</h4><blockquote>
<ul>
<li>AfterContent则内容投影完成之后才触发的，就是在ng-content的内容完成之后才会触发的方法，所以对于底层组件来说ng-content的更加常用。</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/07/17/ng2%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDdom%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/07/17/ng2%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDdom%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">ng2动态加载dom的方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-07-17 21:33:10 / 修改时间：22:36:59" itemprop="dateCreated datePublished" datetime="2016-07-17T21:33:10+08:00">2016-07-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近，想写一些自己的组件库，所以研究下了ng2的动态加载dom的方式，之所以用动态加载是为了，让其他使用者可以直接通过依赖服务，来启动组件不需要额外的操作。</p>
<p>不同于js动态加载dom，动态加载组件化必须经过框架的解释器（resolver）才能渲染成我们所写的组件实例。</p>
<p>做ng2的动态加载组件需要了解2个api，ComponentResolver和ViewChild</p>
<h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123;ComponentResolver,ViewChild&#125; from &quot;@angular/core&quot;;</span><br></pre></td></tr></table></figure>

<p>ComponentResolver中的resolveComponent方法，负责解释组件<br>ViewChild中的createComponent，负责将组建渲染到dom中</p>
<h3 id="首先创建2个简单的组件"><a href="#首先创建2个简单的组件" class="headerlink" title="首先创建2个简单的组件"></a>首先创建2个简单的组件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Component(&#123;</span><br><span class="line">    select:&quot;dom1&quot;,</span><br><span class="line">    template:&quot;&lt;div #dom1&gt;&lt;/div&gt;&quot;</span><br><span class="line">&#125;)</span><br><span class="line">export class Dom1Component&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">    select:&quot;dom2&quot;,</span><br><span class="line">    template:&quot;&lt;div&gt;这里是dom2&lt;/div&gt;&quot;</span><br><span class="line">&#125;)</span><br><span class="line">export class Dom2Component&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="从dom1中动态加载dom2"><a href="#从dom1中动态加载dom2" class="headerlink" title="从dom1中动态加载dom2"></a>从dom1中动态加载dom2</h3><p>我们需要稍微修改下dom1的Dom1Component</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Dom1Component</span> <span class="title">implements</span> <span class="title">AfterViewInit</span></span>&#123;</span><br><span class="line">    @ViewChild(<span class="string">&quot;viewDom&quot;</span>,&#123;<span class="attr">read</span>:ViewContainerRef&#125;) viewdom;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">private comres:ComponentResolver</span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">ngAfterViewInit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.comres.resolveComponent(Dom2Component).then(<span class="function">(<span class="params">factory</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.viewdom.createComponent(factory);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之所以在AfterViewInit中加载dom，是因为ViewChild必须要等到dom加载完成之后才可以获取到这个viewDom</p>
<p>到此，我就可以在dom1中动态加载dom2  </p>
<p>更多细节可以查看ng官网<br><a target="_blank" rel="noopener" href="https://angular.io/docs/ts/latest/api/core/index/ComponentResolver-class.html#!">ComponentResolver</a><br><a target="_blank" rel="noopener" href="https://angular.io/docs/ts/latest/api/core/index/ViewChild-var.html">ViewChild</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%884%EF%BC%89%E2%80%94%E2%80%94%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%884%EF%BC%89%E2%80%94%E2%80%94%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">TypeScript 入门（4）——接口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-04-29 17:28:01 / 修改时间：17:28:32" itemprop="dateCreated datePublished" datetime="2016-04-29T17:28:01+08:00">2016-04-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>接口是typescript里面的一种新的类型，它的主要作用就是为了类型检查为第三方代码定义契约</p>
<ul>
<li><h3 id="一个简单的接口"><a href="#一个简单的接口" class="headerlink" title="一个简单的接口"></a>一个简单的接口</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface LabelValue&#123;</span><br><span class="line">    <span class="attr">label</span>:string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">label:LabelValue</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(label.label)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">label</span>:<span class="string">&quot;asdsa&quot;</span>&#125;;</span><br><span class="line">test(obj)</span><br></pre></td></tr></table></figure>
<p>这里用interface 创建了一个接口，接口必须包含label键值，然后将test函数的参数的类型设置为LabelValue，那么test的label就必须是个包含label键值的对象，不然就会报错</p>
</li>
<li><h3 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Man&#123;</span><br><span class="line">    <span class="attr">name</span>:string;</span><br><span class="line">    age?:number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMan</span>(<span class="params">attr:Man</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(attr.name);</span><br><span class="line">    <span class="built_in">console</span>.log(attr.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">name</span>:<span class="string">&quot;haha&quot;</span>,<span class="attr">age</span>:<span class="number">123</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;<span class="attr">name</span>:<span class="string">&quot;haha&quot;</span>&#125;;</span><br><span class="line">createMan(obj1);</span><br><span class="line">createMan(obj2);</span><br></pre></td></tr></table></figure>
<p>这个例子里面，我们把Man接口的age设置为了可选属性，为了测试我们在obj2少赋值了个age，而createMan(obj2)不会报错，这就是ts下option bages</p>
</li>
<li><h3 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h3><p>我们也可以为函数进行类型检测</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface FnType&#123;</span><br><span class="line">    (source:string):boolean;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myFn:FnType;</span><br><span class="line">myFn = <span class="function"><span class="keyword">function</span>(<span class="params">source:string</span>):<span class="title">boolean</span></span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(source)    </span><br><span class="line">    <span class="keyword">return</span> !!source</span><br><span class="line">&#125;</span><br><span class="line">myFn(<span class="string">&quot;test&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>这里定义了类型一个函数接口，并把myFn的类型设置成FnType，myFn赋值一个匿名函数，函数的参数只能有一个并且类型是string返回值必须是boolean</p>
</li>
<li><h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><p>有了对象有了函数，我们再来定义一个数组类型的接口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">interface StringArr&#123;</span><br><span class="line">    [index:number]:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myArr = [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>这里index意味着数组的索引被定义成了number，函数的类型为string</p>
</li>
<li><h3 id="类类型接口"><a href="#类类型接口" class="headerlink" title="类类型接口"></a>类类型接口</h3><p>``` javascript<br>  interface Person{</p>
<pre><code>  name:string
</code></pre>
<p>  }</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E7%B1%BB/" class="post-title-link" itemprop="url">TypeScript 入门（3）——类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-04-29 17:24:31 / 修改时间：17:25:03" itemprop="dateCreated datePublished" datetime="2016-04-29T17:24:31+08:00">2016-04-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在编程过程中，我们会经常使用基于类的面向对象方法，在es5中我们要定义一个类必须使用prototype而在es6中定义了class让类的定义更加接近编程思想</p>
<ul>
<li><h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3>我们先来看看下面这个例子<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="attr">name</span>:string;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name:string</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello,&quot;</span>+<span class="built_in">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> test = <span class="keyword">new</span> Person(<span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure>
在这里我对构造函数做了3件事情</li>
</ul>
<p>1.定义了Person下name的数据类型<br>2.把构造时的name赋值给类的name值<br>3.定义了getName方法</p>
<p>最后，我们使用new构造FirstClass的实例，并进行初始化</p>
<ul>
<li><h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3>面向对象编程中最常用的就是基于类的继承扩张，让我们基于FirstClass做一个扩张<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="attr">age</span>:number;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name:string,age:number</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">super</span>(name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getNameAndAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name+<span class="string">&quot;:&quot;</span>+<span class="built_in">this</span>.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> test = <span class="keyword">new</span> Age(<span class="string">&quot;haha&quot;</span>,<span class="number">123</span>) </span><br></pre></td></tr></table></figure>
这里一共做了4件事</li>
</ul>
<p>1.Age先继承了Person<br>2.为age设置了类型<br>3.把构造的age赋值给age，然后通过super把name值传递给Person的name<br>4.定义了一个getNameAndAge方法</p>
<p>最后，创建一个test实例化一个Age</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/29/TypeScript-%E5%85%A5%E9%97%A8%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">TypeScript 入门（2）——函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-04-29 17:20:25 / 修改时间：17:21:07" itemprop="dateCreated datePublished" datetime="2016-04-29T17:20:25+08:00">2016-04-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><h3 id="为函数定义类型"><a href="#为函数定义类型" class="headerlink" title="为函数定义类型"></a>为函数定义类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x:number,y:string</span>):<span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myAdd = <span class="function"><span class="keyword">function</span>(<span class="params">x:number,y:string</span>):<span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这里可以看出我们为函数的变量和函数分别定义了不同类型</li>
<li><h3 id="完整的函数类型"><a href="#完整的函数类型" class="headerlink" title="完整的函数类型"></a>完整的函数类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myAdd:<span class="function">(<span class="params">x:number,y:number</span>)=&gt;</span>number=</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">x:number,y:number</span>):<span class="title">number</span></span>&#123;<span class="keyword">return</span> x+y&#125;</span><br></pre></td></tr></table></figure>
这是函数的完整写法，如果函数没有定义类型一般typescript会进行推断，判断出一个可能的值</li>
<li><h3 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">first:string,last?:string</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(last)&#123;</span><br><span class="line">        <span class="keyword">return</span> first + <span class="string">&quot; &quot;</span> +last</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> first</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这个函数和普通函数不同的地方就在于第二个参数后面多了个问号，这样就可以表示这个参数是可有可无</li>
<li><h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindTest</span>(<span class="params">first:number=<span class="number">123</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> first</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这里我们为函数的第一个参数定义了一个默认值，如果函数没有参数传入，那么first就会被默认为123</li>
<li><h3 id="Lambda表达式和this"><a href="#Lambda表达式和this" class="headerlink" title="Lambda表达式和this"></a>Lambda表达式和this</h3>this是编程中的非常常用的写法，但是js函数中的this常常指向window，通过Lambda就可以把this直接只想函数所在的对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deck = &#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&quot;test&quot;</span>,</span><br><span class="line">        <span class="attr">getName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function">()=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
我们看看这里我们写了什么，首先是定义了一个对象，对象上有name属性，getName拥有一个回调方法调用了Lambda函数，这个函数的this就直接指向了deck对象，所以最后getName就会输出test</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/04/29/TypeScript%E5%85%A5%E9%97%A8%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/29/TypeScript%E5%85%A5%E9%97%A8%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89/" class="post-title-link" itemprop="url">TypeScript入门（1）——数据类型定义</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-04-29 17:16:39 / 修改时间：17:28:56" itemprop="dateCreated datePublished" datetime="2016-04-29T17:16:39+08:00">2016-04-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>typescript的数据类基本与javascript几乎相同</p>
<ul>
<li><h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3></li>
</ul>
<p>我们可以定义一个数据的类型为boolean</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: boolean;</span><br></pre></td></tr></table></figure>
<p>当然我也可以设置数据的默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone:boolean = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>
<p>又或者我们可以定义一个布尔类型的数组和默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone:boolean[];</span><br><span class="line"><span class="keyword">let</span> isDone:boolean[] = [<span class="literal">true</span>,<span class="literal">false</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="number"><a href="#number" class="headerlink" title="number"></a>number</h3>我们可以定义一个数字类型和字符串类型和上面的布尔类型一致</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isNumber:number;</span><br><span class="line"><span class="keyword">let</span> isNumber:number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> isNumberArr:number[];</span><br><span class="line"><span class="keyword">let</span> isNumberArr:number[] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isString:string;</span><br><span class="line"><span class="keyword">let</span> isString:string = <span class="string">&quot;haha&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> isStringArr:string[];</span><br><span class="line"><span class="keyword">let</span> isStringArr:string[] = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3>数组类型除了上面的定义方式以外还可以这样子定义</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isArr:<span class="built_in">Array</span>&lt;string&gt;;</span><br><span class="line"><span class="keyword">let</span> isArr:<span class="built_in">Array</span>&lt;string&gt;=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>];</span><br></pre></td></tr></table></figure>
<p>在&lt;&gt;内可以包含各种数据类型</p>
<ul>
<li><h3 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h3>这是js数据类型的一种补充，使数组可以有一个友好的名字，</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enum Color &#123;Red,Green,Blue&#125;;</span><br><span class="line"><span class="keyword">let</span> c:Color = Color.Green;</span><br></pre></td></tr></table></figure>
<p>这时c就会等于1</p>
<p>默认情况下，编号是从0开始，我们也可以手动指定起始值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enum Color &#123;Red=<span class="number">1</span>,Green,Blue&#125;</span><br><span class="line"><span class="keyword">let</span> c:Color=Color.Green</span><br></pre></td></tr></table></figure>
<p>这时c就会等于2</p>
<p>枚举的好处是你可以由枚举值获得它的名字</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enum Color &#123;Red=<span class="number">1</span>,Green,Blue&#125;;</span><br><span class="line"><span class="keyword">let</span> name:string = Color[<span class="number">2</span>];</span><br></pre></td></tr></table></figure>
<p>这是name就是Green</p>
<ul>
<li><h3 id="任意值"><a href="#任意值" class="headerlink" title="任意值"></a>任意值</h3>有时候很多编程阶段不清楚数据的类型会是什么，我们可以直接指定变量为any;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> notSure:any = <span class="number">4</span>;</span><br><span class="line">notSure = <span class="string">&quot;string test&quot;</span>;</span><br><span class="line">notSure = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>甚至你可以为any定义一个数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> AnyArr:any[]=[<span class="number">1</span>,<span class="literal">true</span>,<span class="string">&quot;abc&quot;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(AnyArr[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<ul>
<li><h3 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h3>空值的主要意义在于为数据设置返回值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>):<span class="title">void</span></span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它也可以为变量说明数据类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isVoid:<span class="keyword">void</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> isVoid2:<span class="keyword">void</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/01/25/ionicc%E6%8A%A5%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/01/25/ionicc%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">ionic报错</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-01-25 22:54:43" itemprop="dateCreated datePublished" datetime="2016-01-25T22:54:43+08:00">2016-01-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-08-14 23:54:50" itemprop="dateModified" datetime="2018-08-14T23:54:50+08:00">2018-08-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="chrome远程调试报错"><a href="#chrome远程调试报错" class="headerlink" title="chrome远程调试报错"></a>chrome远程调试报错</h1><ul>
<li>1、No Content-Security-Policy meta tag found. Please add one when using the cordova-plugin-whitelist plugin.<ul>
<li>在控制台看到这句话…说明cordova-plugin-whitelist需要一个白名单…<br>在index.html下加入<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Security-Policy&quot;</span>/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
在config.xml里加入<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;allow-navigation href=<span class="string">&quot;http://example.com/*&quot;</span>/&gt;</span><br><span class="line">&lt;content src=<span class="string">&quot;http://www.example.com/&quot;</span>/&gt;</span><br><span class="line">  </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://smallgress.github.io/2016/01/25/ui-router%E7%9A%84-on%E7%8A%B6%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallGress">
      <meta itemprop="description" content="记录学习js的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一片野草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/01/25/ui-router%E7%9A%84-on%E7%8A%B6%E6%80%81/" class="post-title-link" itemprop="url">ui-router的$on状态</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2016-01-25 22:51:11 / 修改时间：22:51:30" itemprop="dateCreated datePublished" datetime="2016-01-25T22:51:11+08:00">2016-01-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="关于ui-router下-on状态的总结"><a href="#关于ui-router下-on状态的总结" class="headerlink" title="关于ui-router下$on状态的总结"></a>关于ui-router下$on状态的总结</h1><p>使用$on状态之前…我们要先明白这些状态的作用是什么…在angular启动路由的时候…会触发路由的几个事件…如路由开始解析、路由解析成功等等的状态。我们可以根据不同的状态执行不同的回调函数…处理不同的事件。</p>
<h3 id="一、在明白-on的作用后…我们还要明白怎么触发这些状态…"><a href="#一、在明白-on的作用后…我们还要明白怎么触发这些状态…" class="headerlink" title="一、在明白$on的作用后…我们还要明白怎么触发这些状态…"></a>一、在明白$on的作用后…我们还要明白怎么触发这些状态…</h3><pre><code>* 1、$rootScope下触发
    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$rootScope</span>.<span class="variable">$on</span>(<span class="string">&quot;<span class="variable">$stateChangeStart</span>&quot;</span>,<span class="keyword">function</span>(event, toState, toParams, fromState, fromParams)&#123; ... &#125;);</span><br></pre></td></tr></table></figure>
    在$rootScope下触发$on...正如$rootScope的作用一样...它会在所有的控制器中启用这个回调函数。

* 2、$scope 下触发
    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$scope</span>.<span class="variable">$on</span>(<span class="string">&quot;<span class="variable">$stateChangeStart</span>&quot;</span>,<span class="keyword">function</span>(event, toState, toParams, fromState, fromParams)&#123; ... &#125;)</span><br></pre></td></tr></table></figure>
    在$scope下触发$on...它只会在当前的控制器中启用这个回调函数。
</code></pre>
<h3 id="二、所有-on的状态"><a href="#二、所有-on的状态" class="headerlink" title="二、所有$on的状态"></a>二、所有$on的状态</h3><pre><code>| 状态    | 中文    |
| ------- | :----:  |
| $stateChangeStart |  当模板开始解析之前触发|
| $stateNotFound | 当模板没有被找到 |
| $stateChangeSuccess | 当模板解析完成后触发 |
| $stateChangeError | 当模板解析过程中发生错误时触发 |
| $viewContentLoading | 当视图开始加载 |
| $viewContentLoaded | 当视图加载完成 |
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">SmallGress</p>
  <div class="site-description" itemprop="description">记录学习js的历程</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SmallGress</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
